{"version":3,"sources":["reducers/reducer.js","store/store.js","Api.js","actions/action.js","components/Form.js","components/List.js","App.js","index.js"],"names":["initialState","products","productId","name","quantity","created","Date","productsAlt","dirty","isEditing","useApi","reducer","state","arguments","length","undefined","action","type","Object","assign","concat","payload","slice","index","findIndex","item","objectSpread","console","log","splice","currentProducts","hiddenProducts","storeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","axios","create","baseURL","addProduct","updateProduct","deleteProduct","loadProducts","doRead","dispatch","getState","API","get","then","response","data","catch","err","error","Form","_Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChangeValue","bind","assertThisInitialized","handleCreate","inherits","createClass","key","value","prevProps","o","n","setState","_handleCreate","asyncToGenerator","regenerator_default","a","mark","_callee","e","obj","wrap","_context","prev","next","preventDefault","doCreate","t0","stop","_x","apply","p","dirtyProduct","newProduct","doUpdate","target","id","Number","isNaN","defineProperty","_this2","react_default","createElement","className","onChange","onInput","min","onClick","handleUpdate","disabled","hidden","Component","connect","product","post","Error","require","uuidv4","put","ProductList","doEdit","confirm","doDelete","map","i","handleEdit","handleDelete","api","editProduct","delete","CartForm","checked","components_Form","List","React","render","react_redux_es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.265d9ea1.chunk.js","sourcesContent":["const initialState = {\r\n    products: [\r\n        { productId: 1, name: 'Apple', quantity: 12, created: new Date() },\r\n        { productId: 2, name: 'Banana', quantity: 35, created: new Date() }\r\n    ],\r\n    productsAlt: [],\r\n    dirty: {\r\n        isEditing: false,\r\n        productId: 0,\r\n        name: '',\r\n        quantity: 0,\r\n        created: null,\r\n    },\r\n    useApi: false\r\n}\r\n\r\nfunction reducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'ADD': {\r\n            return Object.assign({}, state, { products: state.products.concat(action.payload), dirty : {} });\r\n        }\r\n        case 'UPDATE': {\r\n            let products = state.products.slice();\r\n            const index = products.findIndex((item) => item.productId === action.payload.productId);\r\n            products[index] = { ...products[index], ...action.payload };\r\n            return Object.assign({}, state, { products: products, dirty : {} });\r\n        }\r\n        case 'DELETE': {\r\n            console.log(action.payload);\r\n            let products = state.products.slice();\r\n            const index = products.findIndex((item) => item.productId === action.payload.productId);\r\n            products.splice(index, 1);\r\n            return Object.assign({}, state, { products: products });\r\n        }\r\n        case 'EDIT': {\r\n            return Object.assign({}, state, { dirty: action.payload });\r\n        }\r\n        case 'LOAD': {\r\n            return Object.assign({}, state, { products: action.payload });\r\n        }\r\n        case 'API': {\r\n            let currentProducts = state.products.slice();\r\n            let hiddenProducts = state.productsAlt.slice();\r\n            return Object.assign({}, state, { useApi: action.payload.useApi, products: hiddenProducts, productsAlt: currentProducts });\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport reducer from '../reducers/reducer';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    storeEnhancers(applyMiddleware(thunk))\r\n)\r\n\r\nexport default store;","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: 'https://localhost:44328/api/'\r\n});","import API from '../Api';\r\n\r\nexport function addProduct(payload) {\r\n    return { type: 'ADD', payload };\r\n}\r\n\r\nexport function updateProduct(payload) {\r\n    return { type: 'UPDATE', payload };\r\n}\r\n\r\nexport function deleteProduct(payload) {\r\n    return { type: 'DELETE', payload };\r\n}\r\n\r\nexport function loadProducts(payload) {\r\n    return { type: 'LOAD', payload: payload };\r\n}\r\n\r\nexport function editProduct(payload) {\r\n    return { type: 'EDIT', payload: payload };\r\n}\r\n\r\nexport function useApi(payload) {\r\n    return { type: 'API', payload: payload };\r\n}\r\n\r\nexport function doRead() {\r\n    return function (dispatch, getState) {\r\n        if (getState().useApi) {\r\n            return API.get('products')\r\n            .then(response => { return response.data })\r\n            .then(products => dispatch(loadProducts(products)))\r\n            .catch((err) => {\r\n                console.error(err);\r\n            } );\r\n        }\r\n        dispatch(loadProducts(getState().products));\r\n    }\r\n}\r\n\r\nexport function doCreate(payload) {\r\n    return function (dispatch, getState) {\r\n        if (getState().useApi) {\r\n            return API.post('product/add', payload)\r\n            .then(response => { return response.data })\r\n            .then(product => dispatch(addProduct(product)))\r\n            .catch((err) => {\r\n                console.error(err);\r\n                throw new Error(err);\r\n            } );\r\n        }\r\n        const uuidv4 = require('uuid/v4');\r\n        const id = uuidv4();\r\n        payload.productId = id;\r\n        dispatch(addProduct(payload));\r\n    }\r\n}\r\n\r\nexport function doUpdate(payload) {\r\n    return function (dispatch, getState) {\r\n        if (getState().useApi) {\r\n            return API.put('product/update', payload)\r\n            .then(response => { return response.data })\r\n            .then(product => dispatch(updateProduct(product)))\r\n            .catch((err) => {\r\n                console.error(err);\r\n            } );\r\n        }\r\n        dispatch(updateProduct(payload));\r\n    }\r\n}\r\n\r\nexport function doDelete(payload) {\r\n    return function (dispatch, getState) {\r\n        if (getState().useApi) {\r\n            return API.delete('product/delete?productId=' + payload.productId)\r\n            .then(() => dispatch(deleteProduct(payload)))\r\n            .catch((err) => {\r\n                console.error(err);\r\n            } );\r\n        }\r\n        dispatch(deleteProduct(payload));\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { doCreate, doUpdate } from '../actions/action';\r\n\r\nexport class Form extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            productId: 0,\r\n            name: '',\r\n            quantity: 0,\r\n            created: null\r\n        };\r\n        this.handleChangeValue = this.handleChangeValue.bind(this);\r\n        this.handleCreate = this.handleCreate.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const o = prevProps;\r\n        const n = this.props;\r\n        if (n.isEditing && o.productId !== n.productId && o.name !== n.name) {\r\n            this.setState({ productId: n.productId, name: n.name, quantity: n.quantity, created: n.created });\r\n        } else if (!n.isEditing && (o.productId !== n.productId || n.productId)) {\r\n            this.setState({ productId: 0, name: '', quantity: 0, created: null });\r\n        }\r\n    }\r\n\r\n    async handleCreate(e) {\r\n        e.preventDefault();\r\n        const value = this.state.name;\r\n        const quantity = this.state.quantity;\r\n        const obj = { name: value, quantity: quantity };\r\n\r\n        try {\r\n            await this.props.doCreate(obj);\r\n            this.setState({ productId: 0, name: '', quantity: 0, created: null });\r\n        } catch (e) {}\r\n    }\r\n\r\n    handleUpdate(e, productId) {\r\n        e.preventDefault();\r\n\r\n        const products = this.props.products.slice();\r\n        const index = products.findIndex(p => p.productId === productId);\r\n        const dirtyProduct = Object.assign({}, products[index]);\r\n        const newProduct = {\r\n            name: this.state.name,\r\n            quantity: this.state.quantity\r\n        }\r\n\r\n        this.props.doUpdate({...dirtyProduct, ...newProduct});\r\n    }\r\n\r\n    handleChangeValue(e) {\r\n        if (e.target.id === \"quantity\" && (Number.isNaN(e.target.value) || e.target.value < 0 || e.target.value === \"\")) {\r\n            this.setState({ [e.target.id]: 0 });\r\n        } else {\r\n            this.setState({ [e.target.id]: e.target.value });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"padding-l content-center\">\r\n                <form>\r\n                    <div className=\"form-group\">\r\n                        <label>Name: </label>\r\n                        <input type=\"text\" id=\"name\" value={this.state.name} onChange={this.handleChangeValue} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Quantity:</label>\r\n                        <input type=\"number\" id=\"quantity\" value={this.state.quantity} onInput={this.handleChangeValue} onChange={this.handleChangeValue} min=\"0\" />\r\n                    </div>\r\n                    <button className=\"form-submit\" onClick={ !this.state.productId ? this.handleCreate : (e) => this.handleUpdate(e, this.state.productId) } disabled={ !this.state.name.length }>\r\n                        {!this.state.productId ? 'ADD' : 'UPDATE'}\r\n                    </button>\r\n                    <button className=\"form-submit\" onClick={ !this.state.productId ? this.handleCreate : (e) => this.handleUpdate(e, this.state.productId) } hidden={ !!!this.state.productId }>\r\n                        CANCEL\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        products: state.products,\r\n        isEditing: state.dirty.isEditing,\r\n        productId: state.dirty.productId,\r\n        name: state.dirty.name,\r\n        quantity: state.dirty.quantity,\r\n        created: state.dirty.created\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        doCreate: product => dispatch(doCreate(product)),\r\n        doUpdate: product => dispatch(doUpdate(product))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Form);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { doRead, editProduct, doDelete } from '../actions/action';\r\n\r\nexport class ProductList extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.doRead();\r\n  }\r\n\r\n  handleEdit(e, p) {\r\n    e.preventDefault();\r\n    this.props.doEdit({ productId: p.productId, name: p.name, quantity: p.quantity, isEditing: true });\r\n  }\r\n\r\n  handleDelete(e, p) {\r\n    e.preventDefault();\r\n    if (window.confirm('Delete ' + p.name + '?')) {\r\n      this.props.doDelete({ productId: p.productId });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const uuidv4 = require('uuid/v4');\r\n    return (\r\n      <div className=\"padding-m content-center\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Quantity</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            { this.props.products.map((p, i) =>\r\n              <tr key={ uuidv4() }>\r\n                <td>{ p.name }</td>\r\n                <td>{ p.quantity }</td>\r\n                <td>\r\n                  <button className=\"action-btn\" onClick={ (e) => this.handleEdit(e, p) } disabled={ this.props.productId === p.productId }>Edit</button>\r\n                  <button className=\"action-btn\" onClick={ (e) => this.handleDelete(e, p) } disabled={ this.props.productId === p.productId }>Delete</button>\r\n                </td>\r\n              </tr >\r\n            ) }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStatetoProps = (state) => {\r\n  return {\r\n    products: state.products,\r\n    productId: state.dirty.productId,\r\n    useApi: state.api\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    doRead: () => dispatch(doRead()),\r\n    doEdit: payload => dispatch(editProduct(payload)),\r\n    doDelete: (payload) => dispatch(doDelete(payload))\r\n  }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(ProductList);","import React from 'react';\nimport './App.css';\nimport Form from './components/Form';\nimport ProductList from './components/List';\nimport { connect } from 'react-redux';\nimport { doRead, useApi } from './actions/action';\n\nclass CartForm extends React.Component {\n\n  constructor (props) {\n    super(props);\n    this.handleChangeValue=this.handleChangeValue.bind(this);\n  }\n\n  handleChangeValue(e) {\n    this.props.useApi({ useApi: e.target.checked });\n    this.props.doRead();\n  }\n  \n  render() {\n    return (\n      <div>\n        <div>\n          <div className=\"settings\">\n            <h3 className=\"display-ib\">Use API</h3>\n            <label className=\"switch\">\n              <input type=\"checkbox\" onChange={ this.handleChangeValue }/>\n              <span className=\"slider round\"></span>\n            </label>\n          </div>\n          <div className=\"content-center\">\n          <h1 className=\"display-ib\">Products</h1>\n          </div>\n        </div>\n        <Form />\n        <ProductList />\n      </div>\n    );\n  }\n}\n\nexport default connect(null, {doRead, useApi})(CartForm);\n","import React from 'react';\nimport { render } from 'react-dom';\nimport store from './store/store';\nimport { Provider } from 'react-redux';\nimport App from './App';\n\nrender(\n    <Provider store={ store }>\n        <App />\n    </Provider>, document.getElementById('root')\n)"],"sourceRoot":""}